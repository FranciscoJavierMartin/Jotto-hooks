(this.webpackJsonpjotto=this.webpackJsonpjotto||[]).push([[0],{18:function(e,t,a){e.exports=a(41)},41:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(14),o=a.n(s),u=a(1),c=a(15),l=r.a.createContext("en"),i=r.a.createContext(void 0);var d={SuccessProvider:function(e){var t=r.a.useState(!1),a=Object(u.a)(t,2),n=a[0],s=a[1],o=r.a.useMemo((function(){return[n,s]}),[n]);return r.a.createElement(i.Provider,Object.assign({value:o},e))},useSuccess:function(){var e=r.a.useContext(i);if(!e)throw new Error("useSuccess must be used within a SuccessProvider");return e}},g={en:{congrats:"Congratulations! You guessed the word!",submit:"Submit",guessPrompt:"Try to guess the secret word!",guessInputPlaceholder:"enter guess",guessColumnHeader:"Guessed Words",guessedWords:"Guesses",matchingLettersColumnHeader:"Matching Letters"},emoji:{congrats:"\ud83c\udfaf\ud83c\udf89",submit:"\ud83d\ude80",guessPrompt:"\ud83e\udd14\ud83e\udd2b\ud83d\udd24",guessInputPlaceholder:"\u2328\ufe0f\ud83e\udd14",guessedWords:"\ud83e\udd37\u200d\ud83d\udd24",guessColumnHeader:"\ud83e\udd37\u200d",matchingLettersColumnHeader:"\u2705"}};var m={getStringByLanguage:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g;return a[e]&&a[e][t]?a[e][t]:a.en[t]}},p=function(){var e=d.useSuccess(),t=Object(u.a)(e,1)[0],a=r.a.useContext(l);return t?r.a.createElement("div",{"data-test":"component-congrats",className:"alert alert-success"},r.a.createElement("span",{"data-test":"congrats-message"},m.getStringByLanguage(a,"congrats"))):r.a.createElement("div",{"data-test":"component-congrats"})},v=r.a.createContext(void 0);var f={GuessedWordsProvider:function(e){var t=r.a.useState([]),a=Object(u.a)(t,2),n=a[0],s=a[1],o=r.a.useMemo((function(){return[n,s]}),[n]);return r.a.createElement(v.Provider,Object.assign({value:o},e))},useGuessedWords:function(){var e=r.a.useContext(v);if(!e)throw new Error("useGuessedWords must be used within a GuessedWordsProvider");return e}},b=function(){var e=f.useGuessedWords(),t=Object(u.a)(e,1)[0],a=t.map((function(e,t){return r.a.createElement("tr",{"data-test":"guessed-word",key:t},r.a.createElement("td",null,e.guessedWord),r.a.createElement("td",null,e.letterMatchCount))})),n=r.a.useContext(l),s=0===t.length?r.a.createElement("span",{"data-test":"guess-instructions"},m.getStringByLanguage(n,"guessPrompt")):r.a.createElement("div",{"data-test":"guessed-words"},r.a.createElement("h3",null,m.getStringByLanguage(n,"guessedWords")),r.a.createElement("table",{className:"table table-sm"},r.a.createElement("thead",{className:"thead-ligth"},r.a.createElement("tr",null,r.a.createElement("th",null,m.getStringByLanguage(n,"guessColumnHeader")),r.a.createElement("th",null,m.getStringByLanguage(n,"matchingLettersColumnHeader")))),r.a.createElement("tbody",null,a)));return r.a.createElement("div",{"data-test":"component-guessed-words"},s)},E=function(e){var t=[{code:"en",symbol:"\ud83c\uddfa\ud83c\uddf8"},{code:"emoji",symbol:"\ud83d\ude0a"}].map((function(t){return r.a.createElement("span",{"data-test":"language-icon",onClick:function(){return e.setLanguage(t.code)},key:t.code},t.symbol)}));return r.a.createElement("div",{"data-test":"component-language-picker"},t)},h=a(3);var y=function(e){var t=r.a.useState(""),a=Object(u.a)(t,2),n=a[0],s=a[1],o=d.useSuccess(),c=Object(u.a)(o,2),i=c[0],g=c[1],p=f.useGuessedWords(),v=Object(u.a)(p,2),b=v[0],E=v[1],y=r.a.useContext(l);return i?null:r.a.createElement("div",{"data-test":"component-input"},r.a.createElement("form",{className:"form-inline"},r.a.createElement("input",{"data-test":"input-box",className:"mb-2 mx-sm-3",type:"text",placeholder:m.getStringByLanguage(y,"gessInputPlaceholder"),value:n,onChange:function(e){return s(e.target.value)}}),r.a.createElement("button",{"data-test":"submit-button",className:"btn btn-primary mb-2",onClick:function(t){t.preventDefault();var a=function(e,t){var a=new Set(t.split("")),n=new Set(e.split(""));return Object(h.a)(a).filter((function(e){return n.has(e)})).length}(n,e.secretWord),r=[].concat(Object(h.a)(b),[{guessedWord:n,letterMatchCount:a}]);E(r),n===e.secretWord&&g(!0),s("")}},m.getStringByLanguage(y,"submit"))))},w=a(4),O=a.n(w),j=a(16),S=a(17),P=a.n(S);function W(e){return new Promise((function(t){setTimeout((function(){t({data:e})}),50)}))}var C={getSecretWord:function(){var e=Object(j.a)(O.a.mark((function e(t){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.race([W("qwerty"),P.a.get("http://localhost:3030")]);case 2:a=e.sent,t(a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},L="setSecretWord",x="setLanguage";function k(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function N(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?k(a,!0).forEach((function(t){Object(c.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):k(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function B(e,t){var a;switch(t.type){case"setSecretWord":a=N({},e,{secretWord:t.payload});break;case"setLanguage":a=N({},e,{language:t.payload});break;default:throw a=N({},e),new Error("Invalid action type: ".concat(t.type))}return a}var G=function(){var e=r.a.useReducer(B,{secretWord:null,language:"en"}),t=Object(u.a)(e,2),a=t[0],n=t[1],s=function(e){return n({type:L,payload:e})};return r.a.useEffect((function(){C.getSecretWord(s)}),[]),a.secretWord?r.a.createElement("div",{className:"container","data-test":"component-app"},r.a.createElement("h1",null,"Jotto"),r.a.createElement(l.Provider,{value:a.language},r.a.createElement(E,{setLanguage:function(e){return n({type:x,payload:e})}}),r.a.createElement(f.GuessedWordsProvider,null,r.a.createElement(d.SuccessProvider,null,r.a.createElement(p,null),r.a.createElement(y,{secretWord:a.secretWord})),r.a.createElement(b,null)))):r.a.createElement("div",{className:"countainer","data-test":"spinner"},r.a.createElement("div",{className:"spinner-border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")),r.a.createElement("p",null,"Loading secret word"))};o.a.render(r.a.createElement(G,null),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.7614d284.chunk.js.map